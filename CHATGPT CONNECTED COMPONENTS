85% of storage used … If you run out, you can't create, edit, and upload files.
import cv2
import os
import pandas as pd

# Görüntülerin bulunduðu dizin
image_dir = "/content/images/"
output_file = "/content/particle_analysis_results.csv"

# Sonuçlarý saklamak için bir DataFrame
results = []

# Görüntüleri iþle
for i in range(1, 26):
    image_path = os.path.join(image_dir, f"{i}.png")
    img = cv2.imread(image_path, cv2.IMREAD_GRAYSCALE)
    if img is None:
        print(f"Image not found: {image_path}")
        continue
    
    # Threshold uygulama
    _, binary = cv2.threshold(img, 50, 255, cv2.THRESH_BINARY_INV)
    
    # Parçacýklarý analiz et
    num_labels, labels, stats, _ = cv2.connectedComponentsWithStats(binary)
    
    # Parçacýk bilgilerini hesapla
    total_area = stats[1:, cv2.CC_STAT_AREA].sum()
    average_size = total_area / (num_labels - 1) if num_labels > 1 else 0
    image_area = img.shape[0] * img.shape[1]
    percentage_area = (total_area / image_area) * 100

    # Sonuçlarý kaydet
    results.append({
        "Image": f"{i}.png",
        "Number of Particles": num_labels - 1,
        "Total Area": total_area,
        "Average Size": average_size,
        "% Area": percentage_area
    })

# Sonuçlarý CSV olarak kaydet
df = pd.DataFrame(results)
df.to_csv(output_file, index=False)
print(f"Results saved to {output_file}")
